# Web_work

## Задания для выполнения

1. Написать простейший веб-сервер. Сервер должен принимать входящие соединения на порту 80 и отдавать пользователю содержимое запрошенного ресурса из определенной директории (рабочей директории сервера).

2. Разместите в рабочей директории сервера простой веб сайт, содержащий страницу index.html. Убедитесь, что при подключении к серверу, если не указан необходимый ресурс он отдает содержимое страницы index.html.

3. Познакомьтесь со спецификацией протокола HTTP. Узнайте, в каком формате клиент посылает запрос серверу и в каком формате сервер посылает ответ клиенту. Особое внимание уделите полям заголовка.

3. Сделайте так, чтобы к вашему серверу можно было обращаться по протоколу HTTP. Для этого не нужно реализовывать поддержку всех возможных нюансов, вам нужно лишь описать общий формат запросов и ответов и поддерживать некоторые поля заголовков.

4. Проверьте работу вашего сервера, обратившись к нему из адресной строки любого браузера. Для этого достаточно написать в ней адрес хоста, на котором работает сервер (localhost тоже подходит). Вы должны увидеть содержимое (не код) вашей страницы.

### Дополнительные задания

- При ответе вашего сервера посылайте некоторые основные заголовки:
  - Date
  - Content-type
  - Server
  - Content-length
  - Connection: close. Формат ответа из кода, который включает все заголовки указанные в задании. (connection: close было изменено для 7 задания)

![143503516-0ba56cd0-7bc0-4822-9bef-ef13e1bc4d35](https://user-images.githubusercontent.com/55881294/146687544-12efd723-3bf7-49b6-b398-fc6f01ad475e.png)

Создайте файл настроек вашего веб-сервера, в котором можно задать прослушиваемый порт, рабочую директорию, максимальный объем запроса в байтах. Можете добавить собственные настройки по желанию. Файл настроек в формате JSON

![143503584-dcb02c29-acf4-48b1-9001-576f6f587a9c](https://user-images.githubusercontent.com/55881294/146687722-561ce3f2-785c-46a5-b526-adcd42498622.png)

![143503592-213c534b-18ef-49eb-b20e-75bb03542a13](https://user-images.githubusercontent.com/55881294/146687732-effdf5fc-7777-49e9-8a02-f7942c66a0c3.png)

2. Если файл не найден, сервер передает в сокет специальный код ошибки - 404.

![143503718-538a82eb-4cc2-48c2-8c7a-aeee775c1ce6](https://user-images.githubusercontent.com/55881294/146687768-1d431b59-48b0-4763-919f-f0b1bd84344c.png)

Ошибка 404 так как такого файла нет 6. Сервер должен работать в многопоточном режиме.

![143503736-a589f98d-78ea-4cfa-9d30-3267809f7791](https://user-images.githubusercontent.com/55881294/146687782-7ccdb5d7-24ac-4778-8212-2dba32940f28.png)

Вся работа с подключением выведена в отдельный поток. Например две вкладки одновременно открыты

![143503797-9706ac64-a8f4-47a6-a661-56208e342466](https://user-images.githubusercontent.com/55881294/146687797-249acf8b-2ca6-4bf0-a8c6-887c5e1de410.png)

![143503824-5922a28c-f846-4d62-a141-fc5839725ebe](https://user-images.githubusercontent.com/55881294/146687803-016dc581-f3eb-4660-aafb-9a0eaae58067.png)

8. Сервер должен вести логи в следующем формате: Дата запроса. IP-адрес клиента, имя запрошенного файла, код ошибки. В файле log.txt в корне сервера

![143503853-37d3a395-cd85-4b7b-b5b7-2e20e367784b](https://user-images.githubusercontent.com/55881294/146687813-f67837d9-41f7-47d4-a26f-9fba6932937c.png)

10. Добавьте возможность запрашивать только определенные типы файлов (.html, .css, .js и так далее). При запросе неразрешенного типа, верните ошибку 403.

![143503886-c3217fdc-8296-415d-958a-34a5d57f8181](https://user-images.githubusercontent.com/55881294/146687822-59e78e32-1966-40ef-9168-0e695e647842.png)

12. Реализуйте поддержку постоянного соединения с несколькими запросами.

![143503905-045a6d92-9a3a-4d78-aa7e-2a8c96c097af](https://user-images.githubusercontent.com/55881294/146687847-c6d836a3-2187-43a0-a970-d06c225ea28c.png)

14. Реализуйте поддержку бинарных типов данных, в частночти, картинок.

![143503928-8cea448a-f76a-4e2d-974f-eab0def89e45](https://user-images.githubusercontent.com/55881294/146687910-334c8d70-5f09-4fbd-acec-1136e4a81b10.png)

![143503946-dfe81205-07c6-4584-aa4c-b69f3bc2957a](https://user-images.githubusercontent.com/55881294/146687918-02014505-1161-49b6-bc23-27154a641e7b.png)

![143503965-d5070b9f-ea52-4e00-bbdc-0db42868c05e](https://user-images.githubusercontent.com/55881294/146687922-89bf067e-7374-4092-b6fa-2847290ddcb0.png)
